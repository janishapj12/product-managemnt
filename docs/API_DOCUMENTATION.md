# Intern Task Management System API Documentation

## 1. Overview

This API provides CRUD operations for managing intern tasks.

- **Base URL:** `http://localhost:5000/api`
- **Content-Type:** `application/json`
- **Architecture:** MVC (Model-View-Controller)
- **Database:** MongoDB via Mongoose

---

## 2. Authentication

This version does **not** enforce authentication/authorization.
All endpoints are publicly accessible within your network/runtime environment.

---

## 3. Data Model

### Task Schema

| Field | Type | Required | Allowed Values / Rules |
|---|---|---:|---|
| `title` | String | Yes | 3-150 chars |
| `description` | String | No | max 1000 chars |
| `assignedTo` | String | Yes | 2-120 chars |
| `status` | String | No | `Pending`, `In Progress`, `Completed` (default: `Pending`) |
| `deadline` | Date | No | ISO 8601 date |
| `priority` | String | No | `Low`, `Medium`, `High` (default: `Medium`) |
| `createdAt` | Date | Auto | generated by Mongoose timestamps |
| `updatedAt` | Date | Auto | generated by Mongoose timestamps |

---

## 4. Standard Response Format

### Success

```json
{
  "success": true,
  "message": "Task created successfully",
  "data": {}
}
```

### Validation Error

```json
{
  "success": false,
  "message": "Validation failed",
  "errors": [
    {
      "msg": "Title is required",
      "field": "title",
      "value": ""
    }
  ]
}
```

### Server/Error Handler Response

```json
{
  "success": false,
  "message": "Task not found"
}
```

In non-production mode, the error response may also include `stack`.

---

## 5. Endpoints

## Health Check

### `GET /health`
Checks API availability.

#### Response `200 OK`

```json
{
  "success": true,
  "message": "Intern Task Management API is running"
}
```

---

## Create Task

### `POST /tasks`
Creates a new task.

#### Request Body

```json
{
  "title": "Prepare onboarding checklist",
  "description": "Create and verify onboarding tasks for new interns",
  "assignedTo": "Aisha Khan",
  "status": "Pending",
  "deadline": "2026-07-25T12:00:00.000Z",
  "priority": "High"
}
```

#### Success Response `201 Created`

```json
{
  "success": true,
  "message": "Task created successfully",
  "data": {
    "_id": "66bc0ca39f8c6f41cc4f88fd",
    "title": "Prepare onboarding checklist",
    "description": "Create and verify onboarding tasks for new interns",
    "assignedTo": "Aisha Khan",
    "status": "Pending",
    "deadline": "2026-07-25T12:00:00.000Z",
    "priority": "High",
    "createdAt": "2026-07-20T09:15:10.102Z",
    "updatedAt": "2026-07-20T09:15:10.102Z"
  }
}
```

#### Validation Errors `400 Bad Request`
- Missing/invalid `title`
- Missing/invalid `assignedTo`
- Invalid `status`
- Invalid `priority`
- Invalid `deadline` format

---

## Get All Tasks

### `GET /tasks`
Returns all tasks sorted by newest first.

#### Success Response `200 OK`

```json
{
  "success": true,
  "count": 2,
  "data": [
    {
      "_id": "66bc0ca39f8c6f41cc4f88fd",
      "title": "Prepare onboarding checklist",
      "description": "Create and verify onboarding tasks for new interns",
      "assignedTo": "Aisha Khan",
      "status": "Pending",
      "deadline": "2026-07-25T12:00:00.000Z",
      "priority": "High",
      "createdAt": "2026-07-20T09:15:10.102Z",
      "updatedAt": "2026-07-20T09:15:10.102Z"
    }
  ]
}
```

---

## Get Task by ID

### `GET /tasks/:id`
Returns a single task by MongoDB ObjectId.

#### Path Parameter
- `id` (required): valid MongoDB ObjectId

#### Success Response `200 OK`

```json
{
  "success": true,
  "data": {
    "_id": "66bc0ca39f8c6f41cc4f88fd",
    "title": "Prepare onboarding checklist",
    "assignedTo": "Aisha Khan",
    "status": "Pending",
    "priority": "High",
    "createdAt": "2026-07-20T09:15:10.102Z",
    "updatedAt": "2026-07-20T09:15:10.102Z"
  }
}
```

#### Error Responses
- `400 Bad Request` → invalid task ID format
- `404 Not Found` → task does not exist

---

## Update Task

### `PUT /tasks/:id`
Updates one or more fields on an existing task.

#### Path Parameter
- `id` (required): valid MongoDB ObjectId

#### Request Body (partial update allowed)

```json
{
  "status": "In Progress",
  "priority": "Medium",
  "description": "Checklist drafted and under review"
}
```

#### Success Response `200 OK`

```json
{
  "success": true,
  "message": "Task updated successfully",
  "data": {
    "_id": "66bc0ca39f8c6f41cc4f88fd",
    "title": "Prepare onboarding checklist",
    "description": "Checklist drafted and under review",
    "assignedTo": "Aisha Khan",
    "status": "In Progress",
    "deadline": "2026-07-25T12:00:00.000Z",
    "priority": "Medium",
    "createdAt": "2026-07-20T09:15:10.102Z",
    "updatedAt": "2026-07-20T11:41:30.402Z"
  }
}
```

#### Error Responses
- `400 Bad Request` → invalid ID / invalid payload
- `404 Not Found` → task not found

---

## Delete Task

### `DELETE /tasks/:id`
Deletes a task by ID.

#### Path Parameter
- `id` (required): valid MongoDB ObjectId

#### Success Response `200 OK`

```json
{
  "success": true,
  "message": "Task deleted successfully",
  "data": {
    "_id": "66bc0ca39f8c6f41cc4f88fd",
    "title": "Prepare onboarding checklist",
    "assignedTo": "Aisha Khan",
    "status": "In Progress",
    "priority": "Medium"
  }
}
```

#### Error Responses
- `400 Bad Request` → invalid ID format
- `404 Not Found` → task not found

---

## 6. HTTP Status Codes Used

- `200 OK`
- `201 Created`
- `400 Bad Request`
- `404 Not Found`
- `409 Conflict` (reserved by global duplicate-key error handler)
- `500 Internal Server Error`

---

## 7. Validation Rules Summary

### Create (`POST /tasks`)
- `title`: required, 3-150 chars
- `description`: optional, max 1000 chars
- `assignedTo`: required, 2-120 chars
- `status`: optional enum
- `deadline`: optional ISO date
- `priority`: optional enum

### Update (`PUT /tasks/:id`)
- Same rules as create, but all fields optional.
- `id` must be valid MongoDB ObjectId.

---

## 8. cURL Quick Test Commands

### Create
```bash
curl -X POST http://localhost:5000/api/tasks \
  -H "Content-Type: application/json" \
  -d '{
    "title":"Setup standup notes",
    "description":"Prepare notes for sprint sync",
    "assignedTo":"Rahul",
    "status":"Pending",
    "deadline":"2026-08-01T10:00:00.000Z",
    "priority":"Medium"
  }'
```

### Get All
```bash
curl http://localhost:5000/api/tasks
```

### Get By ID
```bash
curl http://localhost:5000/api/tasks/<TASK_ID>
```

### Update
```bash
curl -X PUT http://localhost:5000/api/tasks/<TASK_ID> \
  -H "Content-Type: application/json" \
  -d '{"status":"Completed","priority":"High"}'
```

### Delete
```bash
curl -X DELETE http://localhost:5000/api/tasks/<TASK_ID>
```
